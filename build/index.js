(()=>{"use strict";var r={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},d:(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(r,t)=>Object.prototype.hasOwnProperty.call(r,t),r:r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{check:()=>S,findBetween:()=>p,getCurrentStageIndex:()=>i,normalDistributionStages:()=>y,parseDuration:()=>o,randomIntBetween:()=>g,randomItem:()=>d,randomString:()=>m,tagWithCurrentStageIndex:()=>u,tagWithCurrentStageProfile:()=>s,uuidv4:()=>h});const e=require("k6/execution");var n=r.n(e);function o(r){if(null==r||r.length<1)throw new Error("str is empty");for(var t=0,e="",n={},o=0;o<r.length;o++)if((a(r[o])||"."==r[o])&&(e+=r[o]),null!=r[o+1]&&!a(r[o+1])&&"."!=r[o+1]){var i=parseFloat(e,10),u=r[o+1];switch(u){case"d":t+=24*i*60*60*1e3;break;case"h":t+=60*i*60*1e3;break;case"m":o+2<r.length&&"s"==r[o+2]?(t+=Math.trunc(i),o++,u="ms"):t+=60*i*1e3;break;case"s":t+=1e3*i;break;default:throw new Error("".concat(u," is an unsupported time unit"))}if(n[u])throw new Error("".concat(u," time unit is provided multiple times"));n[u]=!0,o++,e=""}return e.length>0&&(t+=parseFloat(e,10)),t}function a(r){return r>="0"&&r<="9"}function i(){var r=n().test.options.scenarios[n().scenario.name];if(null==r)throw new Error("the exec.test.options object doesn't contain the current scenario ".concat(n().scenario.name));if(null==r.stages)throw new Error("only ramping-vus or ramping-arravial-rate supports stages, it is not possible to get a stage index on other executors.");if(r.stages.length<1)throw new Error("the current scenario ".concat(r.name," doesn't contain any stage"));for(var t=0,e=new Date-n().scenario.startTime,a=0;a<r.stages.length;a++)if(e<(t+=o(r.stages[a].duration)))return a;return r.stages.length-1}function u(){n().vu.tags.stage=i()}function s(){n().vu.tags.stage_profile=function(){var r=i();if(r<1)return"ramp-up";var t=n().test.options.scenarios[n().scenario.name].stages,e=t[r],o=t[r-1];return e.target>o.target?"ramp-up":o.target==e.target?"steady":"ramp-down"}()}const c=require("k6/crypto");function l(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return f(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function h(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r?x():v()}function g(r,t){return Math.floor(Math.random()*(t-r+1)+r)}function d(r){return r[Math.floor(Math.random()*r.length)]}function m(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyz",e="";r--;)e+=t[Math.random()*t.length|0];return e}function p(r,t,e){for(var n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=!0,u=0;i&&-1!=(n=r.indexOf(t))&&(n+=t.length,-1!=(u=r.indexOf(e,n)));){var s=r.substring(n,u);if(!o)return s;a.push(s),r=r.substring(u+e.length)}return a.length?a:null}function y(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;function n(r,t,e){return Math.exp(-.5*Math.pow((e-r)/t,2))/(t*Math.sqrt(2*Math.PI))}for(var o=0,a=1,i=new Array(e+2).fill(0),u=new Array(e+2).fill(Math.ceil(t/6)),s=[],c=0;c<=e;c++)i[c]=n(o,a,-2*a+4*a*c/e);for(var f=Math.max.apply(Math,l(i)),h=i.map((function(t){return Math.round(t*r/f)})),g=1;g<=e;g++)u[g]=Math.ceil(4*t/(6*e));for(var d=0;d<=e+1;d++)s.push({duration:"".concat(u[d],"s"),target:h[d]});return s}function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=16*Math.random()|0;return("x"===r?t:3&t|8).toString(16)}))}function x(){for(var r=[],t=0;t<256;++t)r.push((t+256).toString(16).slice(1));var e=new Uint8Array((0,c.randomBytes)(16));return e[6]=15&e[6]|64,e[8]=63&e[8]|128,(r[e[0]]+r[e[1]]+r[e[2]]+r[e[3]]+"-"+r[e[4]]+r[e[5]]+"-"+r[e[6]]+r[e[7]]+"-"+r[e[8]]+r[e[9]]+"-"+r[e[10]]+r[e[11]]+r[e[12]]+r[e[13]]+r[e[14]]+r[e[15]]).toLowerCase()}function b(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==e)return;var n,o,a=[],i=!0,u=!1;try{for(e=e.call(r);!(i=(n=e.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(r){u=!0,o=r}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}(r,t)||function(r,t){if(!r)return;if("string"==typeof r)return w(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return w(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var M=new(require("k6/metrics").Rate)("checks");function S(r,t){var e=t||r,n=Object.entries(e).map((function(t){var e=b(t,2),n=e[0],o=e[1];function a(r){return M.add(r?1:0,{check:n}),r}if("function"==typeof o){var i=o(r);return i instanceof Promise?i.then(a):a(i)}return o instanceof Promise?o.then(a):a(o)}));return n.some((function(r){return r instanceof Promise}))?Promise.all(n).then((function(r){return r.every(Boolean)})):n.every(Boolean)}var A=exports;for(var j in t)A[j]=t[j];t.__esModule&&Object.defineProperty(A,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map