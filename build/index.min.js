(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};require("k6/crypto"),(()=>{e.r(t),e.d(t,{getCurrentStageIndex:()=>s,parseDuration:()=>a,tagWithCurrentStageIndex:()=>i,tagWithCurrentStageProfile:()=>u});const r=require("k6/execution");var n=e.n(r);function a(e){if(null==e||e.length<1)throw new Error("str is empty");for(var t=0,r="",n={},a=0;a<e.length;a++)if((o(e[a])||"."==e[a])&&(r+=e[a]),null!=e[a+1]&&!o(e[a+1])&&"."!=e[a+1]){var s=parseFloat(r,10),i=e[a+1];switch(i){case"d":t+=24*s*60*60*1e3;break;case"h":t+=60*s*60*1e3;break;case"m":a+2<e.length&&"s"==e[a+2]?(t+=Math.trunc(s),a++,i="ms"):t+=60*s*1e3;break;case"s":t+=1e3*s;break;default:throw new Error("".concat(i," is an unsupported time unit"))}if(n[i])throw new Error("".concat(i," time unit is provided multiple times"));n[i]=!0,a++,r=""}return r.length>0&&(t+=parseFloat(r,10)),t}function o(e){return e>="0"&&e<="9"}function s(){var e=n().test.options.scenarios[n().scenario.name];if(null==e)throw new Error("the exec.test.options object doesn't contain the current scenario ".concat(n().scenario.name));if(null==e.stages)throw new Error("only ramping-vus or ramping-arravial-rate supports stages, it is not possible to get a stage index on other executors.");if(e.stages.length<1)throw new Error("the current scenario ".concat(e.name," doesn't contain any stage"));for(var t=0,r=new Date-n().scenario.startTime,o=0;o<e.stages.length;o++)if(r<(t+=a(e.stages[o].duration)))return o;return e.stages.length-1}function i(){n().vu.tags.stage=s()}function u(){n().vu.tags.stage_profile=function(){var e=s();if(e<1)return"ramp-up";var t=n().test.options.scenarios[n().scenario.name].stages,r=t[e],a=t[e-1];return r.target>a.target?"ramp-up":a.target==r.target?"steady":"ramp-down"}()}})();var r=exports;for(var n in t)r[n]=t[n];t.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=index.min.js.map